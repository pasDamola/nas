(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{590:function(e,t,o){var content=o(659);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(24).default)("e5e3b27a",content,!0,{sourceMap:!1})},658:function(e,t,o){"use strict";o(590)},659:function(e,t,o){(t=o(23)(!1)).push([e.i,'.login[data-v-93854eaa]{position:relative;min-height:100vh;padding-bottom:90px;display:flex;align-items:center;justify-content:center}.login h1[data-v-93854eaa]{font-size:2rem;font-weight:600}.login .container h1[data-v-93854eaa]{text-align:center}.login .container>div[data-v-93854eaa]{flex-direction:column;text-align:center}.login .container>div .d-block[data-v-93854eaa]{margin:0 auto}@media screen and (min-width:992px){.login .container h1[data-v-93854eaa]{text-align:left}.login .container>div[data-v-93854eaa]{flex-direction:row;text-align:left}.login .container>div .d-block[data-v-93854eaa]{margin:unset}}.login span[data-v-93854eaa]{max-width:350px}.login__hero[data-v-93854eaa]{max-width:500px}.login__hero a[data-v-93854eaa]{color:#288855;font-weight:600}.login__hero a[data-v-93854eaa]:hover{text-decoration:none;opacity:.9}.login__wrapper[data-v-93854eaa]{width:350px;height:350px;border-radius:50%;max-width:100%;background-color:#c2e8d3;position:relative}@media screen and (max-width:992px){.login__wrapper[data-v-93854eaa]{display:none}}.login__wrapper[data-v-93854eaa]:after{z-index:0;content:"";position:absolute;width:330px;height:330px;background-color:#fff;border-radius:50%;left:50%;top:50%;transform:translate(-50%,-50%)}.login__img[data-v-93854eaa]{width:350px;height:350px;position:relative;background-image:url(/login-hero.jpg);left:50px;top:30px;z-index:1}.login__img[data-v-93854eaa],.login__img[data-v-93854eaa]:before{border-radius:50%;max-width:100%}.login__img[data-v-93854eaa]:before{content:"";width:100px;height:100px;position:absolute;bottom:-20px;right:20px;background:linear-gradient(180deg,#8fe7b9,#fff)}.login__form[data-v-93854eaa]{max-width:400px}.login__form a[data-v-93854eaa]{color:#288855;font-weight:600}.login__form a[data-v-93854eaa]:hover{text-decoration:none;opacity:.9}.form-control[data-v-93854eaa]{font-size:1rem;min-height:50px}.form-control[data-v-93854eaa]::-moz-placeholder{font-size:1rem}.form-control[data-v-93854eaa]:-ms-input-placeholder{font-size:1rem}.form-control[data-v-93854eaa]::placeholder{font-size:1rem}.btn--outlined[data-v-93854eaa]{color:#288855;border:1px solid #288855}.btn--outlined[data-v-93854eaa]:focus,.btn--outlined[data-v-93854eaa]:hover{box-shadow:0 0 0 .2rem rgba(40,136,85,.5)}',""]),e.exports=t},748:function(e,t,o){"use strict";o.r(t);var r={layout:"applicant_login",data:function(){return{user:{email_address:"",password:""},changePassword:{email_address:""},vendor:{email:"",password:""},user_type:"",user_options:[{value:null,text:"Select your user type"},{text:"Applicant/Beneficiary",value:"Applicant"},{text:"Vendor",value:"Vendor"}],alert:{status:!1,type:"danger",message:""},error:{message:""},vendorerror:{message:""},loading:!1,changeloading:!1,saveDetails:!1,errorChange:{message:""}}},mounted:function(){"null"!==JSON.stringify(localStorage.getItem("nasims-user"))&&this.$router.push("/")},methods:{logInApplicant:function(){var e=this;this.loading=!0,this.alert.status=!1,this.$axios.post("applicants/login",this.user).then((function(t){e.loading=!1,e.saveDetails,localStorage.setItem("nasims-user",JSON.stringify(t.data.user)),sessionStorage.setItem("nasims-user",JSON.stringify(t.data.user)),e.$store.commit("SET_USER_DETAILS",t.data.user),e.alert.status=!0,e.alert.type="success",e.alert.message="Login successful, you are being redirected to your dashboard...";var o=window.btoa(t.data.user.email);localStorage.setItem("user-id",o),localStorage.setItem("email_app",e.user.email_address);var r=t.data.token;e.$store.commit("SET_TOKEN_DETAILS",t.data.token),e.$store.dispatch("saveAuth",[JSON.stringify(t.data.user),r]),e.getBvnToken(),setTimeout((function(){return e.$router.push("/applicant/".concat(o))}),2e3)})).catch((function(t){t.response&&(e.error.message=t.response.data.message,e.loading=!1,e.alert.status=!0,e.alert.message="".concat(e.error.message))}))},logInVendor:function(){var e=this;this.loading=!0,this.alert.status=!1,this.vendor.email=this.user.email_address,this.vendor.password=this.user.password,console.log(this.vendor),this.$axios.post("vendor/login",this.vendor).then((function(t){e.loading=!1,e.saveDetails,localStorage.setItem("nasims-vendor",JSON.stringify(t.data.user)),e.$store.commit("SET_VENDOR_DETAILS",t.data.user),e.alert.status=!0,e.alert.type="success",e.alert.message="Login successful, you are being redirected to your dashboard";var o=window.btoa(t.data.user.email);localStorage.setItem("vendor-id",o);var r=t.data.token;e.$store.commit("SET_VENDOR_TOKEN_DETAILS",t.data.token),e.$store.dispatch("saveVendorAuth",[JSON.stringify(t.data.user),r]),setTimeout((function(){return e.$router.push("/vendor/".concat(o))}),2e3)})).catch((function(t){e.vendorerror.message=t.response.message,e.loading=!1,e.alert.status=!0,e.alert.message="".concat(e.error.message)}))},getBvnToken:function(){var e=this;this.$axios.get("applicants/bvn/token").then((function(e){localStorage.setItem("bvn-token",e.data.token)})).catch((function(t){t.response&&(e.error.message=t.response.data.message,e.loading=!1,e.alert.status=!0,e.alert.message="".concat(e.error.message))}))},sendVerificationLink:function(){var e=this;this.changeloading=!0,this.$axios.post("applicants/send_verification_link",this.changePassword).then((function(t){e.changeloading=!1,e.successToast("b-toaster-top-right","success")})).catch((function(t){t.response&&(e.errorChange.message=t.response.data.message,e.changeloading=!1,e.errorToast("b-toaster-top-right","danger"))}))},errorToast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$bvToast.toast("".concat(this.errorChange.message),{title:"Error",toaster:e,solid:!0,variant:t})},successToast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$bvToast.toast("A link has been sent to your email, please check",{title:"Success",toaster:e,solid:!0,variant:t})}}},n=(o(658),o(18)),component=Object(n.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login"},[o("div",{staticClass:"container"},[o("h1",[e._v("Login to your NASIMS Account")]),e._v(" "),o("div",{staticClass:"row justify-content-between align-items-center"},[e._m(0),e._v(" "),o("div",{staticClass:"col-12 col-md-6 login__form"},[o("span",{staticClass:"my-2 d-block"},[e._v("\n          If you don't have an acount, you can "),o("br"),e._v(" "),o("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}]},[e._v("Register here!")])]),e._v(" "),o("form",{on:{submit:function(t){return t.preventDefault(),e.logIn(t)}}},[o("b-alert",{attrs:{variant:e.alert.type,dismissible:""},model:{value:e.alert.status,callback:function(t){e.$set(e.alert,"status",t)},expression:"alert.status"}},[e._v("\n            "+e._s(e.alert.message)+"\n          ")]),e._v(" "),o("div",{staticClass:"form-group my-4"},[o("b-form-select",{staticClass:"form-control form-control-lg",attrs:{id:"user",type:"email",placeholder:"What type of user",options:e.user_options},model:{value:e.user_type,callback:function(t){e.user_type=t},expression:"user_type"}})],1),e._v(" "),o("div",{staticClass:"form-group my-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email_address,expression:"user.email_address"}],staticClass:"form-control form-control-lg",attrs:{id:"email",type:"email",placeholder:"Enter Email Address"},domProps:{value:e.user.email_address},on:{input:function(t){t.target.composing||e.$set(e.user,"email_address",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"form-group my-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control form-control-lg",attrs:{id:"password",type:"password",placeholder:"Enter Password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"row justify-content-between mx-0"},[o("div",{staticClass:"form-group"},[o("div",{staticClass:"form-check"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.saveDetails,expression:"saveDetails"}],staticClass:"form-check-input",attrs:{id:"remember",type:"checkbox"},domProps:{checked:Array.isArray(e.saveDetails)?e._i(e.saveDetails,null)>-1:e.saveDetails},on:{change:function(t){var o=e.saveDetails,r=t.target,n=!!r.checked;if(Array.isArray(o)){var l=e._i(o,null);r.checked?l<0&&(e.saveDetails=o.concat([null])):l>-1&&(e.saveDetails=o.slice(0,l).concat(o.slice(l+1)))}else e.saveDetails=n}}}),e._v(" "),o("label",{staticClass:"form-check-label",attrs:{for:"remember"}},[e._v("\n                  Keep me logged in\n                ")])])]),e._v(" "),o("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}]},[e._v("Forgot Password")])]),e._v(" "),"Applicant"==e.user_type?o("button",{staticClass:"btn btn--primary w-100",attrs:{type:"submit",disabled:!e.user.email_address||!e.user.password||e.loading},on:{click:e.logInApplicant}},[e.loading?o("b-spinner",{attrs:{variant:"light",label:"Spinning"}}):o("span",[e._v("Proceed")])],1):o("button",{staticClass:"btn btn--primary w-100",attrs:{type:"submit",disabled:!e.user.email_address||!e.user.password||e.loading},on:{click:e.logInVendor}},[e.loading?o("b-spinner",{attrs:{variant:"light",label:"Spinning"}}):o("span",[e._v("Proceed")])],1)],1)])])]),e._v(" "),o("b-modal",{attrs:{id:"modal-1",title:"Registration","hide-footer":""}},[o("p",{staticClass:"my-4"},[e._v("\n      Do you want to register as an Applicant or Vendor?\n    ")]),e._v(" "),o("b-row",[o("b-col",[o("b-button",{staticClass:"mt-3 btn--outlined",attrs:{variant:"light",block:"",href:"/applicant_register"}},[e._v("\n          Applicant\n        ")])],1),e._v(" "),o("b-col",[o("b-button",{staticClass:"mt-3",attrs:{block:"",variant:"success",href:"/vendor_register"}},[e._v("\n          Vendor\n        ")])],1)],1)],1),e._v(" "),o("b-modal",{attrs:{id:"modal-2",title:"Change Password","hide-footer":""}},[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("b-form-group",{staticClass:"titless",attrs:{id:"input-group-2",label:"Email Address","label-for":"input-3"}},[o("b-form-input",{attrs:{required:"",placeholder:"Enter your Email",type:"email"},model:{value:e.changePassword.email_address,callback:function(t){e.$set(e.changePassword,"email_address",t)},expression:"changePassword.email_address"}})],1)],1)],1),e._v(" "),o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("b-button",{staticClass:"mt-3 btn--outlined",attrs:{variant:"light",block:"",disabled:!e.changePassword.email_address||e.loading},on:{click:e.sendVerificationLink}},[e.changeloading?o("b-spinner",{attrs:{variant:"light",label:"Spinning"}}):o("span",[e._v("Send Link")])],1)],1)],1)],1)],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-12 col-md-6 login__hero"},[t("div",{staticClass:"login__wrapper"},[t("div",{staticClass:"login__img"})])])}],!1,null,"93854eaa",null);t.default=component.exports}}]);